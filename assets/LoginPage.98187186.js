import{Q as d,a as u}from"./QForm.bdb98b3b.js";import{_ as f,E as c,r as g,F as v,G as w,H as m,I as $,K as a,M as r,Q as p,aw as Q}from"./index.c86804d0.js";import{Q as V,k as b}from"./use-quasar.4c1520d5.js";import{u as h}from"./user-store.7de37fee.js";import{api as k}from"./axios.e3324e7c.js";import"./format.eae10d4a.js";const y=c({name:"LoginPage",setup(){const o=b(),e=g({email:"",password:""}),l=h(),n=$();function i(){k.post("/api/v1/login",e.value).then(s=>{l.setToken(s.data.token),l.setUser(s.data.user),n.push({name:"cotacoes"})}).catch(s=>{s.response.status===400?o.notify({color:"negative",position:"top",message:s.response.data,icon:"report_problem"}):o.notify({color:"negative",position:"top",message:"Falha ao comunicar com o servidor.",icon:"report_problem"})})}return{form:e,login:i}}}),C={class:"col-md-4 col-sm-6 col-xs-10 q-gutter-y-md"},q=r("p",{class:"text-h5 text-center"},"Login",-1),B={class:"full-width q-pd-md"},L={class:"full-width q-pd-md"};function S(o,e,l,n,i,s){return v(),w(V,{padding:""},{default:m(()=>[a(u,{class:"row justify-center",onSubmit:e[4]||(e[4]=Q(t=>o.login(),["prevent"]))},{default:m(()=>[r("div",C,[q,a(d,{label:"Email",modelValue:o.form.email,"onUpdate:modelValue":e[0]||(e[0]=t=>o.form.email=t)},null,8,["modelValue"]),a(d,{label:"Senha",modelValue:o.form.password,"onUpdate:modelValue":e[1]||(e[1]=t=>o.form.password=t),type:"password"},null,8,["modelValue"]),r("div",B,[a(p,{label:"Login",color:"primary",outlined:"",rounded:"",size:"md",onClick:e[2]||(e[2]=t=>o.login()),class:"full-width"})]),r("div",L,[a(p,{label:"Cadastre-se",flat:"",class:"full-width",size:"md",onClick:e[3]||(e[3]=t=>o.$router.replace("/cadastre-se"))})])])]),_:1})]),_:1})}var I=f(y,[["render",S]]);export{I as default};
